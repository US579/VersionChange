---

- block: section
  children:
    - id: AreaofOffice
      label: Area of office (sq m)
    - id: AreaofHome
      label: Total area of home (sq m)
    - id: ClaimablePercentage
      label: Claimable %
      format: 1234.12%
    - id: UseSquareMetreRate
      label: "Will you be using Inland Revenue's published square metre rate instead of % of actual costs for utilities and other expenses?"
      showAs: radio

- block: section
  visible: = UseSquareMetreRate
  title: Claim based on square metre rate
  children:
    - id: AreaofOffice2
      label: Area of office (sq m)
    - id: SquareMetreRate
      label: Square metre rate prescribed by Inland Revenue ($ / sq m)
    - id: ClaimperSquareMetre
      label: Total Claim based on rate per square metre
      style: subtotal

- block: section
  visible: = IF(UseSquareMetreRate,TRUE,FALSE)
  title: Claim based on percentage used for business
  children:
    - id: ClaimablePercentage
      label: Claimable percentage
      format: 1234.12%
    - control: grid
      name: Grid1
      columns:
        - title: Description
        - title: Total cost
        - title: Claimable amount
        - title: GST rate
          size: sm
        - title: GST amount
        - title: Net claim
      rows:
        - columns:
            - Mortgage interest
            - id: InterestGross
            - id: InterestClaimable
            - 
            - 
            - id: InterestNet
        - columns:
            - Rates
            - id: RatesGross
            - id: RatesClaimable
            - id: RatesGSTRate
              format: 1234.12%            
            - id: RatesGST
            - id: RatesNet
        - columns:
            - Rent
            - id: RentGross
            - id: RentClaimable
            - id: RentGSTRate
              format: 1234.12%            
            - id: RentGST
            - id: RentNet
        - rowType: total
          columns:
            - Total
            - id: TotalClaimableGross
            - id: TotalClaimableClaimable
            - 
            - id: TotalClaimableGST
            - id: TotalClaimforBusinessUse
    - id: TotalClaimforBusinessUse
      label: Total claim based on percentage business use
      style: subtotal

- block: section
  visible: = IF(UseSquareMetreRate,FALSE,TRUE)
  title: Claim based on percentage used for business
  children:
    - id: ClaimablePercentage
      label: Claimable percentage
      format: 1234.12%
    - control: grid
      name: Grid2
      columns:
        - title: Description
        - title: Total cost
        - title: Claimable amount
        - title: GST rate
          size: sm
        - title: GST amount
        - title: Net claim
      rows:
        - columns:
            - Mortgage interest
            - id: InterestGross
            - id: InterestClaimable
            - 
            - 
            - id: InterestNet
        - columns:
            - Rates
            - id: RatesGross
            - id: RatesClaimable
            - id: RatesGSTRate
              format: 1234.12%
            - id: RatesGST
            - id: RatesNet
        - columns:
            - Rent
            - id: RentGross
            - id: RentClaimable
            - id: RentGSTRate
              format: 1234.12%
            - id: RentGST
            - id: RentNet
        - columns:
            - Repairs and maintenance
            - id: RandMGross
            - id: RandMClaimable
            - id: RandMGSTRate
              format: 1234.12%
            - id: RandMGST
            - id: RandMNet
        - columns:
            - Utilities (power, gas, etc)
            - id: UtilitiesGross
            - id: UtilitiesClaimable
            - id: UtilitiesGSTRate
              format: 1234.12%
            - id: UtilitiesGST
            - id: UtilitiesNet
        - id: ClaimableList
          columns:
            - key: Description
              placeholder: Enter details of any other costs            
            - key: Gross
            - key: Claimable
            - key: GSTRate
              format: 1234.12%
            - key: GSTAmount
            - key: ClaimableNet
        - rowType: total
          columns:
            - Total
            - id: TotalClaimableGross
            - id: TotalClaimableClaimable
            - 
            - id: TotalClaimableGST
            - id: TotalClaimforBusinessUse
    - id: TotalClaimforBusinessUse
      label: Total claim based on percentage business use
      style: subtotal

- block: section
  title: Claim for other costs (not included above)
  children:
    - control: grid
      name: Grid3
      columns:
        - title: Description
        - title: Total cost
        - title: 'Claimable %'
          size: sm
        - title: Claimable amount
        - title: GST rate
          size: sm
        - title: GST amount
        - title: Net claim
      rows:
        - columns:
            - Telephone and internet
            - id: TelephoneGross
            - id: TelephonePercentageClaimable
              format: 1234.12%
            - id: TelephoneClaimable
            - id: TelephoneGSTRate
            - id: TelephoneGST
            - id: TelephoneNet
        - id: OtherList
          columns:
            - key: Description
              placeholder: Enter details of any other costs            
            - key: Gross
            - key: ClaimablePercentage
            - key: Claimable
            - key: GSTRate
              format: 1234.12%
            - key: GSTAmount
            - key: ClaimableNet
        - rowType: total
          columns:
            - Total
            - id: TotalOtherGross
            -
            - id: TotalOtherClaimable
            - 
            - id: TotalOtherGST
            - id: TotalOtherNet
    - id: TotalOtherNet
      label: Total other costs claimed
      style: subtotal

- block: section
  children:
    - id: TotalHomeOfficeClaim
      label: Total claim for home office expenses
      style: total

- block: section
  title: 'Ledger amounts'
  children:
    - control: grid
      name: LedgerAmountsGrid
      columns:
        - title: Account code
          size: md
        - title: Account name
          size: lg
        - title: Balance
      rows:
        - id: LedgerAmounts
          columns:
            - key: AccountCode
            - key: AccountName
            - key: Balance
        - rowType: total
          columns:
            - Total
            -
            - id: TotalBalance
        - rowType: total
          columns:
            - Variance
            -
            - id: Variance

- block: section
  title: Notes
  children:
    - control: repeatingSection
      id: NotesList
      addButtonText: Add another note
      fields:
        - label: =CONCATENATE("Note"," - ",ROWINDEX()+1)
          key: Note
