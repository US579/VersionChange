---
name: IR526 Tax credit claim form
model:
  fields:
    irdNumber:
      type: number
      decimals: 0
      mandatory: true
    isNilReturn:
      defaultValue: false
      type: boolean
    isFinalReturn:
      defaultValue: false
      type: boolean
    isAmended:
      defaultValue: false
      type: boolean
    amendReason:
      mandatory: = isAmended <> FALSE
      options:
        - label: Calculation error
          value: MATH
        - label: Incorrect amount entered
          value: KEY
        - label: Transposition error
          value: TRNSPO
        - label: Other
          value: OTHER
      type: select
    amendDetails:
      mandatory: = isAmended <> FALSE
      type: text
    submissionKey:
      maxLength: 32
      type: text
    schoolKindergartenDonations:
      type: number
      decimals: 2
    partnerSchoolKindergartenDonations:
      type: number
      decimals: 2
    religiousOrganisationDonations:
      type: number
      decimals: 2
    partnerReligiousOrganisationDonations:
      type: number
      decimals: 2
    doneeOrganisationDonations:
      type: number
      decimals: 2
    partnerDoneeOrganisationDonations:
      type: number
      decimals: 2
    totalDonationPayments:
      type: number
      decimals: 2
      value:  =schoolKindergartenDonations + partnerSchoolKindergartenDonations + religiousOrganisationDonations + partnerReligiousOrganisationDonations +
              doneeOrganisationDonations + partnerDoneeOrganisationDonations
    totalDonationEntitlement:
      type: number
      decimals: 2
      value:  =ROUNDDOWN((totalDonationPayments * 33.3333) / 100,2)
    partnerIRD:
      type: number
      decimals: 0
    partnerName:
      type: text
# Transfer section
    transferRefundTo:
      type: list
      maxRows:  10
      fields:
        transferIrdNumber:
          type: number
          decimals: 0
        transferAccountType:
          options:
            - label: Income tax
              value: INC
            - label: Approved issuer levy
              value: AIL
            - label: Account information provider
              value: AIP
            - label: Common reporting standard
              value: CRS
            - label: Dividend withholding tax
              value: DWT
            - label: Fringe benefit tax
              value: FBT
            - label: Gaming machine duty
              value: GMD
            - label: GST on goods sold in satisfaction of debt
              value: GSD
            - label: Goods and services tax
              value: GST
            - label: Resident withholding tax on interest
              value: IPS
            - label: Resident withholding tax on interest (exempt recipient)
              value: IPE
            - label: Non-resident withholding tax
              value: NRT
            - label: Portfolio investment entity tax
              value: PIE
            - label: Payroll subsidy account
              value: PRS
            - label: 'Tax credits - donations, childcare, housekeeper'
              value: REB
            - label: Resident land withholding tax
              value: RLT
            - label: Resident withholding tax on specified dividends
              value: RWT
            - label: Student loan
              value: SLS
            - label: Working for families tax credits
              value: FAM
          type: select
        transferAmount:
          decimals: 2
          type: number
        associatedCustomer:
          defaultValue: false
          type: boolean
        transferFilingPeriod:
          defaultValue: 31/03/2020
          type: date
    transferTotal:
      decimals: 2
      type: number
      value:  =SUM(transferRefundTo:transferAmount)
    transferRemaining:
      decimals: 2
      type: number
      value:  =totalDonationEntitlement - transferTotal
