---
ato:
  form: not used
# filingEndpoint: '/sbr/ird/ir4/v1'
filingEndpoint: 
  version: 'v1'
  entityType: 'ir4'
lodgement:
  Documents:
    Form: ird.ir4.v1
    MessageType: https://services.ird.govt.nz/GWS/Returns/Return/File
    Path: "/Gateway/GWS/Returns/"
    Request:
      Header:
        PeriodEndDate:
          source: compliance/endDate
        MajorFormType: INC
        MinorFormType: '4'
        SoftwareProviderData:
          SoftwareProvider: MYOB
          SoftwarePlatform: MYOB_AgencyAPI
          SoftwareRelease: '1.0'
        Identifier:
          IdentifierValueType: IRD
          Value: 
            source: fe/irdNumber
        AccountType: INC
      Body:
        StandardFields:
          IsNilReturn:
            source: fe/isNilReturn
          IsFinalReturn:
            source: fe/isFinalReturn
          AmendmentRequest:
            IsAmended:
              source: fe/isAmended
            AmendReason:
              source: fe/amendReason
            AmendDetails: 
              source: fe/amendDetails
          CreditTransferRequest:
          - TransferIRD:
            source: fe/transferRefundTo/transferIrdNumber 
            TransferAccountType:
              source: fe/transferRefundTo/transferAccountType
            TransferFilingPeriod:
              source: fe/transferRefundTo/transferFilingPeriod
            AssociatedCustomer:
              source: fe/transferRefundTo/associatedCustomer
            TransferAmount:
              source: fe/transferRefundTo/transferAmount
        FormFields:
          SubmissionKey:
            source: fe/submissionKey
          NonResidentIndicator:
            source: fe/nonResidentIndicator
          SchedularPayments:
            WithholdingTaxDeducted:
              source: fe/schedularPayments_withholdingTaxDeducted
            TotalIncome:
              source: fe/schedularPayments_totalIncome
          InterestIncome:
            TotalTaxPaid:
              source: fe/interestIncome_totalTaxPaid
            TotalIncome:
              source: fe/interestIncome_totalIncome
          PieIncome:
            TotalTaxCredits:
              source: fe/pieIncome_totalTaxCredits
            TotalIncome:
              source: fe/pieIncome_totalIncome
          DividendIncome:
            TotalImputationCredits:
              source: fe/dividendIncome_totalImputationCredits
            TotalRWTCredits:
              source: fe/dividendIncome_totalRWTCredits
            TotalGrossDividends:
              source: fe/dividendIncome_totalGrossDividends
          MaoriAuthorityDistributions:
            TotalMACredits:
              source: fe/maoriAuthorityDistributions_totalMACredits
            TotalMADistributions:
              source: fe/maoriAuthorityDistributions_totalMADistributions
          PartnershipEstateTrustIncome:
            TotalTaxCredits:
              source: fe/partnershipEstateTrustIncome_totalTaxCredits
            TotalIncome:
              source: fe/partnershipEstateTrustIncome_totalIncome
          OverseasIncome:
            TotalTaxPaid:
              source: fe/overseasIncome_totalTaxPaid
            TotalIncome:
              source: fe/overseasIncome_totalIncome
          BusinessOrRentalIncome:
            source: fe/businessOrRentalIncome
          TotalGrossPremium:
            source: fe/totalGrossPremium
          TotalGrossPremiumPaidToSwitzerland:
            source: fe/totalGrossPremiumPaidToSwitzerland
          TotalTaxablePremium:
            source: fe/totalTaxablePremium
          OtherIncome:
            source: fe/otherIncome
          RlwtCredit:
            source: fe/rlwtCredit
          SaleOfProperty:
            source: fe/saleOfProperty
          DonationsMade:
            source: fe/donationsMade
          LossesBroughtForward:
            source: fe/lossesBroughtForward
          LossesClaimedThisYear:
            source: fe/lossesClaimedThisYear
          NetLossesToFrom:
            source: fe/netLossesToFrom
          SubventionPaymentsToFrom:
            source: fe/subventionPaymentsToFrom
          TotalTaxableIncome:
            source: fe/totalTaxableIncome
          # TaxOnTaxableIncome:
          #   source: fe/
          ForeignInvestorTaxCredit:
            source: fe/foreignInvestorTaxCredit
          ResidualIncomeTax:
            source: fe/residualIncomeTax
          ProvisionalTax:
            ProvisionalTaxOption:
              source: fe/provisionalTax_provisionalTaxOption
            ProvisionalTaxPayable:
              source: fe/provisionalTax_provisionalTaxPayable
            ProvisionalTaxStartDate:
              source: fe/provisionalTax_provisionalTaxStartDate
          PaymentsMadeToNonResidents:
            source: fe/paymentsMadeToNonResidents
          WithholdingTaxDeducted:
            source: fe/withholdingTaxDeducted
          ForeignIncomeDisclosure:
            source: fe/foreignIncomeDisclosure
          RepurchasedRedeemedCancelledShares:
            source: fe/repurchasedRedeemedCancelledShares
          ForeignSourcedDividends:
            source: fe/foreignSourcedDividends
          ForeignControlIndicator:
            source: fe/foreignControlIndicator
          LowestEconomicShareholderInterest:
            source: fe/lowestEconomicShareholderInterest
          ShareholderDetails:
          - IrdNumber:
            source: fe/shareholderListType/shareholder_irdNumber
            Remuneration:
              source: fe/shareholderListType/shareholder_remuneration
            ShareholderAIMTaxPaid:
              source: fe/shareholderListType/shareholderDetails_shareholderAIMTaxPaid
            LoansFromCompany:
              source: fe/shareholderListType/shareholder_loansFromCompany
            CurrentAccountBalance:
              source: fe/shareholderListType/shareholder_currentAccountBalance
            ShareholderLossOffsets:
              source: fe/shareholderListType/shareholder_shareholderLossOffsets
            SubventionPayments:
              source: fe/shareholderListType/shareholder_subventionPayments
  FieldErrorMappings:
    135:
      standardMessage: "Invalid IRD number"
      description: "An invalid IRD number was used on a field. Additional information will indicate which field does not meed the criteria."
    2227:
      standardMessage: "Residential rental income indicator is required if residential rental income total income or residential rental income residential rental deductions are non-zero values"
      description: "Residential rental income indicator is required if residential rental income total income or residential rental income residential rental deductions are non-zero values"
      formsengineField: "residentialRentalIncome_Indicator"