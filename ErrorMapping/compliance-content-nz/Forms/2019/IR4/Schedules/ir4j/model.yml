model:
  fields:
    adjustments:
      decimals: 2
      type: number
    closingBalance:
      decimals: 2
      type: number
      value: =openingBalance - totalCredits + totalDebits
    furtherIncomeTaxPayable:
      decimals: 2
      type: number
      value: '=IF(closingBalance <= 0, NULL, closingBalance - adjustments)'
    imputationAndFDPCredits:
      decimals: 2
      type: number
    imputationCreditsAttached:
      decimals: 2
      type: number
    incomeTaxPaid:
      decimals: 2
      type: number
    incomeTaxRefunded:
      decimals: 2
      type: number
    irdNumber:
      mandatory: true
      type: number
      decimals: 0
    openingBalance:
      decimals: 2
      type: number
    otherCreditsRepeatingSection:
      fields:
        otherCreditsAmount:
          decimals: 2
          type: number
        otherCreditsDescription:
          type: text
      type: list
    otherCredits:
      type: number
      decimals: 2
      value: =SUM(otherCreditsRepeatingSection:otherCreditsAmount)
    otherDebitsRepeatingSection:
      fields:
        OtherDebitsDescription:
          type: text
        otherDebitsAmount :
          decimals: 2
          type: number
      type: list
    otherDebits:
      type: number
      decimals: 2
      value: =SUM(otherDebitsRepeatingSection:otherDebitsAmount)
    submissionKey:
      type: number
    totalCredits:
      decimals: 2
      type: number
      value: =incomeTaxPaid + totalRWTOnInterest + imputationAndFDPCredits +
        otherCredits
    totalDebits:
      decimals: 2
      type: number
      value: =incomeTaxRefunded + imputationCreditsAttached +
        otherDebits
    totalRWTOnInterest:
      decimals: 2
      type: number
name: NZTax_IR4J
